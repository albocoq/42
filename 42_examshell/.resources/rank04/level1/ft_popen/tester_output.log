/usr/bin/ld: /tmp/cceyqc82.o: in function `test_fd_leaks':
main.c:(.text+0x112): undefined reference to `ft_popen'
/usr/bin/ld: main.c:(.text+0x1dd): undefined reference to `ft_popen'
/usr/bin/ld: main.c:(.text+0x1f6): undefined reference to `ft_popen'
/usr/bin/ld: main.c:(.text+0x228): undefined reference to `ft_popen'
/usr/bin/ld: main.c:(.text+0x25f): undefined reference to `ft_popen'
/usr/bin/ld: /tmp/cceyqc82.o:main.c:(.text+0x33b): more undefined references to `ft_popen' follow
collect2: error: ld returned 1 exit status
[31m[1mFAIL(B[0m
[32mExpected Output:(B[m "ğŸ§ª Comprehensive ft_popen Testing (Memory & FD Management)
=========================================================
=== Testing FILE DESCRIPTOR LEAKS ===
Initial FD count: 4
âœ… FD Leak Test 1 PASSED: No significant FD leaks detected
âœ… FD Leak Test 2 PASSED: Error conditions don't leak FDs

=== Testing CHILD PROCESS CLEANUP ===
ğŸ§ª Comprehensive ft_popen Testing (Memory & FD Management)
=========================================================
=== Testing FILE DESCRIPTOR LEAKS ===
Initial FD count: 4
âœ… FD Leak Test 1 PASSED: No significant FD leaks detected
âœ… FD Leak Test 2 PASSED: Error conditions don't leak FDs

=== Testing CHILD PROCESS CLEANUP ===
âœ… Child Cleanup Test PASSED: Child process exited cleanly

=== Testing PIPE CLOSURE ON ERRORS ===
âœ… Bad Command Test: Got valid FD (3) for bad command
âš ï¸  Bad Command Test: Child exit status was 0 (expected 1)
âœ… Pipe Closure Test PASSED: No FD leaks with bad commands

=== Testing DUP2 FAILURE HANDLING ===
Note: dup2 failure is tested in your code with exit(1)
The current implementation correctly:
âœ… Checks dup2 return value for -1
âœ… Closes appropriate FD before exit
âœ… Exits with code 1 on dup2 failure
âœ… This was verified in the previous test runs

=== STRESS TEST: Multiple Simultaneous Operations ===
âœ… Stress Test PASSED: Multiple operations handled correctly

=== COMPREHENSIVE VALGRIND ANALYSIS ===
Running with flags: --leak-check=full --show-leak-kinds=all --track-origins=yes -s --track-fds=yes
ğŸ’¡ To run comprehensive valgrind analysis, use:
   valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes -s --track-fds=yes ./test_comprehensive

ğŸ“‹ Valgrind flags explanation:
   --leak-check=full      : Check for all types of memory leaks
   --show-leak-kinds=all  : Show definite, indirect, possible, and reachable leaks
   --track-origins=yes    : Track origins of uninitialized values
   -s                     : Show error summary and suppressed errors
   --track-fds=yes        : Track file descriptor leaks

ğŸš€ Executing comprehensive valgrind test now...
Executing: valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes -s --track-fds=yes ./test_comprehensive
âš ï¸  Note: This will create a recursive call, so we'll skip auto-execution.
ğŸ”§ Please run the command above manually for full valgrind analysis.

ğŸ Comprehensive testing completed!"
[31mYour Output:(B[m     ""
